(function(a){function e(a){return function(b,c){a.addEventListener(b,c,!1)}}function f(a){return function(b,c,d){a.removeEventListener(b,c,!1)}}function g(a){return function(b,c){a.attachEvent("on"+b,c)}}function h(a){return function(b,c){a.detachEvent("on"+b,c)}}function i(a,c){var d=[];for(var e=b.length;e--;){var f=b[e],g=!a||a.indexOf(f.type)>=0,h=!0;for(var i in f.checks){var j=f.checks[i];h=h&&j===c[i]}g&&h&&(d[d.length]=f.handler)}return d}function j(a,b){return{x:a?a:0,y:b?b:0,count:1}}function k(a,c){c=c||{},c.checks=c.checks||{},c.type=c.type||a,b.push(c)}function l(a,b,c){var d;typeof a=="string"&&(a=document.getElementById(a)),b=b||{},b.isIE=typeof window.attachEvent!="undefined",c=c||{},c.touch=c.touch||"ontouchstart"in window,b.binder=(b.isIE?g:e)(b.bindTarget||document),b.unbinder=(b.isIE?g:f)(b.bindTarget||document),d=i(b.types,c);for(var h=0;h<d.length;h++)d[h].call(a,a,b);return{on:function(a,b){eve.on("interact.pointer."+a,b)}}}function m(a){var b=0,c=0;if(a.offsetParent)do b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;while(a);return{left:b,top:c}}function n(a,b){var c=a.target||a.srcElement,d=c.className;while(c&&c!==b)c=c.parentNode;return c&&c===b}function o(a,b){return{x:a.x-(b?b.left:0),y:a.y-(b?b.top:0)}}function p(a,b){a.preventDefault?(a.preventDefault(),a.stopPropagation()):typeof a.cancelBubble!="undefined"&&(a.cancelBubble=!0),b&&a.stopImmediatePropagation&&a.stopImmediatePropagation()}var b=[],c=/.*\.(.*)$/,d={},q=function(a,b){function w(a){if(a.pageX&&a.pageY)return j(a.pageX,a.pageY);var b=document.documentElement,c=document.body;return j(a.clientX+(b&&b.scrollLeft||c&&c.scrollLeft||0)-(b&&b.clientLeft||c&&c.clientLeft||0),a.clientY+(b&&b.scrollTop||c&&c.scrollTop||0)-(b&&b.clientTop||c&&c.clientTop||0))}function x(b){if(n(b,a)){var c=w(b);eve("interact.doubletap"+r,a,b,c,o(c,m(a)))}}function y(b){if(n(b,a)){h=C(b),e&&p(b,!0);if(h){var c=w(b);a.style.cursor="move",i=j(c.x,c.y),eve(s,a,b,i,o(i,m(a)))}}}function z(b){var c=w(b);k=c.x,l=c.y,n(b,a)&&E(b,"interact.pointer."+(h?"move":"hover"))}function A(b){h&&C(b)&&(h=!1,n(b,a)&&(a.style.cursor="default",E(b,"interact.pointer.up")))}function B(b){if(n(b,a)){var f;b=b||window.event;if(b.detail){if(typeof b.axis=="undefined"||b.axis===2)f=-b.detail*c}else f=b.wheelDeltaY?b.wheelDeltaY:b.wheelDelta,window.opera&&(f=-f);if(f){var g=j(k,l);eve(v,a,b,g,o(g,m(a)),f/d),e&&p(b,!0),b.returnValue=!1}}}function C(a){a=a||window.event;var b=a.which||a.button;return b==1}function D(b){return!n(b,a)}function E(b,c,d,f,g){var h=typeof d!="undefined"?d:k,i=typeof f!="undefined"?f:l,n=j(h,i);e&&p(b,!0),eve(c+r,a,b,n,o(n,m(a)))}function F(){b.unbinder("mousedown",y),b.unbinder("mousemove",z),b.unbinder("mouseup",A),b.unbinder("mousewheel",B),b.unbinder("DOMMouseScroll",B)}b=b||{};var c=120,d=c*8,e=b.aggressiveCapture,f=b.isIE,g=typeof FlashCanvas!="undefined",h=!1,i,k,l,q="interact.pointer",r=a&&a.id?"."+a.id:"",s=q+".down"+r,t=q+".move"+r,u=q+".up"+r,v="interact.zoom.wheel"+r;return b.binder("mousedown",y),b.binder("mousemove",z),b.binder("mouseup",A),b.binder("dblclick",x),b.binder("selectstart",D),b.binder("dragstart",D),b.binder("mousewheel",B),b.binder("DOMMouseScroll",B),{unbind:F}};k("pointer",{handler:q,checks:{touch:!1}});var r=function(a,b){function L(a,b){var c=a&&a.count>0?a.touches[0]:null;return c&&b&&b.count>0?calcDiff(c,b.touches[0]):null}function M(a){if(a.count<2)return 0;var b=a.x-a.next.x,c=a.y-a.next.y;return~~Math.sqrt(b*b+c*c)}function N(a,b,c){b=b?b:0,c=c?c:0;var d={x:a.x-b,y:a.y-c,id:a.id,count:a.count},e=d;while(a.next)a=a.next,e=e.next={x:a.x-b,y:a.y-c,id:a.id};return d}function O(a){var b=a.x,c=a.next.x,d=a.y,e=a.next.y,f=b<c?b:c,g=d<e?d:e,h=Math.abs(b-c),i=Math.abs(d-e);return{x:f+(h>>1),y:g+(i>>1)}}function P(a,b){var c=a[b?b:"touches"],d,e;if(c.length===0)return null;e=d={x:c[0].pageX,y:c[0].pageY,id:c[0].identifier,count:c.length};for(var f=1,g=c.length;f<g;f++)e=e.next={x:c[f].pageX,y:c[f].pageY,id:c[f].identifier};return d}function Q(b){if(n(b,a)){t=m(a);var c=P(b,"changedTouches"),d=N(c,t.left,t.top),e=[a,b,c,d];s&&p(b,!0),w||(u=l,eve.apply(eve,[E].concat(e))),A&&eve.apply(eve,[F].concat(e)),w=P(b),w.count>1&&(y=M(w)),B=1,z=N(w)}}function R(b){var c,d;if(n(b,a)){s&&p(b,!0),x=P(b),u==l&&(c=Math.abs(w.x-x.x)>h||Math.abs(w.y-x.y)>h,u=c?k:l);if(u!=l){u=x.count>1?r:q;if(u==r)if(w.count===1)w=N(x),y=M(w);else{var e=M(x),f=Math.abs(y-e);if(f<g)u=q;else{var i=O(x),m=e/y,v=m-B;eve(K,a,b,i,o(i,t),v),B=m}}d=[a,b,x,N(x,t.left,t.top),j(x.x-z.x,x.y-z.y)],u==q&&eve.apply(eve,[G].concat(d)),A&&eve.apply(eve,[evePointerMultiMove].concat(d))}z=N(x)}}function S(b){if(n(b,a)){var c=P(b,"changedTouches"),d=N(c,t.left,t.top),e=[a,b,c,d];x=P(b),s&&p(b,!0),x||(eve.apply(eve,[I].concat(e)),w=null),A&&eve.apply(b,[J].concat(e))}}function T(){return{x:0,y:0,next:null}}function U(){b.unbinder("touchstart",Q),b.unbinder("touchmove",R),b.unbinder("touchend",S)}b=b||{};var c=500,d=100,e=250,f=300,g=20,h=7,i={x:0,y:0},k=0,l=1,q=2,r=3,s=b.aggressiveCapture,t,u,v=!1,w,x,y,z,A=b.detailed,B=1,C="interact.pointer",D=a&&a.id?"."+a.id:"",E=C+".down"+D,F=C+".multi.down"+D,G=C+".move"+D,H=C+".multi.move"+D,I=C+".up"+D,J=C+".multi.up"+D,K="interact.zoom.pinch"+D;return b.binder("touchstart",Q),b.binder("touchmove",R),b.binder("touchend",S),{unbind:U}};k("pointer",{handler:r,checks:{touch:!0}}),eve.on("interact.pointer.down",function(a,b,e){var f=eve.nt().replace(c,"$1");f&&(d[f]={x:e.x,y:e.y}),downTarget=this}),eve.on("interact.pointer.move",function(a,b,e){var f=eve.nt().replace(c,"$1");if(f&&d[f]){var g=e.x-d[f].x,h=e.y-d[f].y;eve("interact.pan."+f,this,a,g,h,b,e),d[f]={x:e.x,y:e.y}}}),eve.on("interact.pointer.up",function(a,b,d){var e=eve.nt().replace(c,"$1");this===downTarget&&eve("interact.tap"+(e?"."+e:""),this,a,b,d)}),l.register=k,l.watch=l,typeof module!="undefined"&&module.exports?module.exports=l:typeof define!="undefined"?define("interact",[],function(){return l}):a.interact=l})(this)