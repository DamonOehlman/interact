var Interact=INTERACT=function(){function d(a){return function(b,c){a.addEventListener(b,c,!1)}}function e(a){return function(b,c,d){a.removeEventListener(b,c,!1)}}function f(a){return function(b,c){a.attachEvent("on"+b,c)}}function g(a){return function(b,c){a.detachEvent("on"+b,c)}}function h(b,c){var d=[];for(var e=a.length;e--;){var f=a[e],g=!b||b.indexOf(f.type)>=0,h=!0;for(var i in f.checks){var j=f.checks[i];h=h&&j===c[i]}g&&h&&(d[d.length]=f.handler)}return d}function i(a,b){return{x:a?a:0,y:b?b:0,count:1}}function j(b,c){c=c||{},c.checks=c.checks||{},c.type=c.type||b,a.push(c)}function k(a,b,c){var g;typeof a=="string"&&(a=document.getElementById(a)),b=b||{},b.isIE=typeof window.attachEvent!="undefined",c=c||{},c.touch=c.touch||"ontouchstart"in window,b.binder=(b.isIE?f:d)(b.bindTarget||document),b.unbinder=(b.isIE?f:e)(b.bindTarget||document),g=h(b.types,c);for(var i=0;i<g.length;i++)g[i].call(a,a,b)}function l(a){var b=0,c=0;if(a.offsetParent)do b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;while(a);return{left:b,top:c}}function m(a,b){var c=a.target||a.srcElement,d=c.className;while(c&&c!==b)c=c.parentNode;return c&&c===b}function n(a,b){return{x:a.x-(b?b.left:0),y:a.y-(b?b.top:0)}}function o(a,b){a.preventDefault?(a.preventDefault(),a.stopPropagation()):typeof a.cancelBubble!="undefined"&&(a.cancelBubble=!0),b&&a.stopImmediatePropagation&&a.stopImmediatePropagation()}var a=[],b=/.*\.(.*)$/,c={},p=function(a,b){function w(a){if(a.pageX&&a.pageY)return i(a.pageX,a.pageY);var b=document.documentElement,c=document.body;return i(a.clientX+(b&&b.scrollLeft||c&&c.scrollLeft||0)-(b&&b.clientLeft||c&&c.clientLeft||0),a.clientY+(b&&b.scrollTop||c&&c.scrollTop||0)-(b&&b.clientTop||c&&c.clientTop||0))}function x(b){if(m(b,a)){var c=w(b);eve("interact.doubletap"+r,a,b,c,n(c,l(a)))}}function y(b){if(m(b,a)){h=C(b),e&&o(b,!0);if(h){var c=w(b);a.style.cursor="move",j=i(c.x,c.y),eve(s,a,b,j,n(j,l(a)))}}}function z(b){var c=w(b);k=c.x,p=c.y,m(b,a)&&E(b,"interact.pointer."+(h?"move":"hover"))}function A(b){h&&C(b)&&(h=!1,m(b,a)&&(a.style.cursor="default",E(b,"interact.pointer.up")))}function B(b){if(m(b,a)){var f;b=b||window.event;if(b.detail){if(typeof b.axis=="undefined"||b.axis===2)f=-b.detail*c}else f=b.wheelDeltaY?b.wheelDeltaY:b.wheelDelta,window.opera&&(f=-f);if(f){var g=i(k,p);eve(v,a,b,g,n(g,l(a)),f/d),e&&o(b,!0),b.returnValue=!1}}}function C(a){a=a||window.event;var b=a.which||a.button;return b==1}function D(b){return!m(b,a)}function E(b,c,d,f,g){var h=typeof d!="undefined"?d:k,j=typeof f!="undefined"?f:p,m=i(h,j);e&&o(b,!0),eve(c+r,a,b,m,n(m,l(a)))}function F(){b.unbinder("mousedown",y),b.unbinder("mousemove",z),b.unbinder("mouseup",A),b.unbinder("mousewheel",B),b.unbinder("DOMMouseScroll",B)}b=b||{};var c=120,d=c*8,e=b.aggressiveCapture,f=b.isIE,g=typeof FlashCanvas!="undefined",h=!1,j,k,p,q="interact.pointer",r=a&&a.id?"."+a.id:"",s=q+".down"+r,t=q+".move"+r,u=q+".up"+r,v="interact.zoom.wheel"+r;return b.binder("mousedown",y),b.binder("mousemove",z),b.binder("mouseup",A),b.binder("dblclick",x),b.binder("selectstart",D),b.binder("dragstart",D),b.binder("mousewheel",B),b.binder("DOMMouseScroll",B),{unbind:F}};j("pointer",{handler:p,checks:{touch:!1}});var q=function(a,b){function L(a,b){var c=a&&a.count>0?a.touches[0]:null;return c&&b&&b.count>0?calcDiff(c,b.touches[0]):null}function M(a){if(a.count<2)return 0;var b=a.x-a.next.x,c=a.y-a.next.y;return~~Math.sqrt(b*b+c*c)}function N(a,b,c){b=b?b:0,c=c?c:0;var d={x:a.x-b,y:a.y-c,id:a.id,count:a.count},e=d;while(a.next)a=a.next,e=e.next={x:a.x-b,y:a.y-c,id:a.id};return d}function O(a){var b=a.x,c=a.next.x,d=a.y,e=a.next.y,f=b<c?b:c,g=d<e?d:e,h=Math.abs(b-c),i=Math.abs(d-e);return{x:f+(h>>1),y:g+(i>>1)}}function P(a,b){var c=a[b?b:"touches"],d,e;if(c.length===0)return null;e=d={x:c[0].pageX,y:c[0].pageY,id:c[0].identifier,count:c.length};for(var f=1,g=c.length;f<g;f++)e=e.next={x:c[f].pageX,y:c[f].pageY,id:c[f].identifier};return d}function Q(b){if(m(b,a)){t=l(a);var c=P(b,"changedTouches"),d=N(c,t.left,t.top),e=[a,b,c,d];s&&o(b,!0),w||(u=p,eve.apply(eve,[E].concat(e))),A&&eve.apply(eve,[F].concat(e)),w=P(b),w.count>1&&(y=M(w)),B=1,z=N(w)}}function R(b){var c,d;if(m(b,a)){s&&o(b,!0),x=P(b),u==p&&(c=Math.abs(w.x-x.x)>h||Math.abs(w.y-x.y)>h,u=c?k:p);if(u!=p){u=x.count>1?r:q;if(u==r)if(w.count===1)w=N(x),y=M(w);else{var e=M(x),f=Math.abs(y-e);if(f<g)u=q;else{var j=O(x),l=e/y,v=l-B;eve(K,a,b,j,n(j,t),v),B=l}}d=[a,b,x,N(x,t.left,t.top),i(x.x-z.x,x.y-z.y)],u==q&&eve.apply(eve,[G].concat(d)),A&&eve.apply(eve,[evePointerMultiMove].concat(d))}z=N(x)}}function S(b){if(m(b,a)){var c=P(b,"changedTouches"),d=N(c,t.left,t.top),e=[a,b,c,d];x=P(b),s&&o(b,!0),x||(eve.apply(eve,[I].concat(e)),w=null),A&&eve.apply(b,[J].concat(e))}}function T(){return{x:0,y:0,next:null}}function U(){b.unbinder("touchstart",Q),b.unbinder("touchmove",R),b.unbinder("touchend",S)}b=b||{};var c=500,d=100,e=250,f=300,g=20,h=7,j={x:0,y:0},k=0,p=1,q=2,r=3,s=b.aggressiveCapture,t,u,v=!1,w,x,y,z,A=b.detailed,B=1,C="interact.pointer",D=a&&a.id?"."+a.id:"",E=C+".down"+D,F=C+".multi.down"+D,G=C+".move"+D,H=C+".multi.move"+D,I=C+".up"+D,J=C+".multi.up"+D,K="interact.zoom.pinch"+D;return b.binder("touchstart",Q),b.binder("touchmove",R),b.binder("touchend",S),{unbind:U}};return j("pointer",{handler:q,checks:{touch:!0}}),eve.on("interact.pointer.down",function(a,d,e){var f=eve.nt().replace(b,"$1");f&&(c[f]={x:e.x,y:e.y}),downTarget=this}),eve.on("interact.pointer.move",function(a,d,e){var f=eve.nt().replace(b,"$1");if(f&&c[f]){var g=e.x-c[f].x,h=e.y-c[f].y;eve("interact.pan."+f,this,a,g,h,d,e),c[f]={x:e.x,y:e.y}}}),eve.on("interact.pointer.up",function(a,c,d){var e=eve.nt().replace(b,"$1");this===downTarget&&eve("interact.tap"+(e?"."+e:""),this,a,c,d)}),{register:j,watch:k}}()